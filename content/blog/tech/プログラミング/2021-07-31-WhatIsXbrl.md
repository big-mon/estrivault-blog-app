---
title: 決算データ規格XBRLを理解する
description: XBRLの概要と構造イメージを簡潔に把握する
slug: what-is-xbrl
publishedAt: 2021-07-31T18:40:00
coverImage: /Hero/pexels-thisisengineering-3861967.jpg
category: Tech
tags: ['プログラミング', 'EDGAR']
---

アメリカ株や日本株へ投資している人で決算を確認しない人は少ないでしょう。売上はいくらだとか利益率がどう変化しただとか……

株に関するデータを舐めることが趣味になってくると自作のプログラムで決算データを揃えてみたくなってくるものですよね？そこで今回は業界規格のデータフォーマット「**XBRL**」がどんなものか勉強がてら調べて分かったことを簡単にまとめてみます。

※正式名称：eXtensible Business Reporting Language

# XBRL とは

XBRLは**XMLをベースとした事業報告用の規格**の1つです。

XBRL Internationalという非営利の国際提携団体が中心的な立場となっています。IFRS(国際財務報告基準) を策定するIASBなどがメンバーとして参加しており、全世界的な標準規格となることを推し進めています。

ただ、日本とアメリカではIFRSは法律による強制適用はされておらず、それぞれ独自の会計基準が共存している状況です。とはいえ国際的な潮流としてIFRSへの移行が進んでおり両国でもコンバージェンスが推進されているため、適用する企業は今後も増加していくと思われます。

> 参考：[日本公認会計士協会](https://jicpa.or.jp/specialized_field/ifrs/basic/ifrs/)

XMLの簡易的なイメージを載せておきます。

```xml
<決算2021Q2>
  <売上 単位="円">10000</売上>
  <原価 単位="円">6000</原価>
  <粗利益 単位="円">4000</粗利益>
  ......
</決算2021Q2>
```

XBRLは歴史上「XBRL」と「**インライン XBRL**」の2つに分けて言及される場合があります。前者の発展型が2013年に登場したインラインXBRLであり現在の主流です。

当初は人が読むことを考慮していなかったのですが、インラインXBRLとなったことで一般のウェブサイトのように人が読み解ける形で描画できるようになったことが特徴です。(インラインXBRL以前はHTMLへ変換しなければ人が見れる形式ではありませんでした)

## タクソノミー

XBRLは「**タクソノミー**」と「**インスタンス**」で構成されています。

- タクソノミーはその報告書のフォーマットを定義するもので、どのような項目が存在するのかといったことや項目の関係性などを定義しています。
- インスタンスはタクソノミーに基づいて入れるデータのことを指します。テキストや金額、真偽値、期間など多様なデータ構造での表現が可能です。

データを解釈する視点から説明すれば、インスタンス(決算書)を入手してタクソノミーに照らし合わせることでそれらのデータが何を指している値かが読み解けるようになるという事です。

### タクソノミーの種類

| 作成元         | タクソノミー名称   | 備考                               |
| -------------- | ------------------ | ---------------------------------- |
| IASB           | IFRSタクソノミー   | 国際財務報告基準                   |
| 金融庁         | EDINETタクソノミー | 日本                               |
| 東京証券取引所 | TDNETタクソノミー  | 決算短信                           |
| GRI            | GRIタクソノミー    | サステナビリティレポートの国際基準 |

上記のようにタクソノミーにも多くの種類があるため、閲覧したい報告書の種類によってデータを読み取る際に適用するタクソノミーを変える必要があります。

またそれぞれのタクソノミーの定義では伝えたい情報がうまく表現できない場合のために、企業独自にそれぞれのタクソノミーを拡張子て表現することも許容されているため、特定の企業の公開するすべてのデータを取得したいという場合は、ベースとなるタクソノミー以外に企業独自の拡張も解釈する必要がある点はプログラムを構築する際に悩むことになるでしょう。

{{<youtube SE0jevx78YE>}}

### タクソノミーの構造

タクソノミーは5つの「**リンクベース**」という定義で作成されています。

| リンクベース | 用途                                                 |
| ------------ | ---------------------------------------------------- |
| 定義         | 資産 > 流動資産 > 現金及び預金、など科目の所属を定義 |
| 表示         | どの科目をどこでどのように表示するのかを定義         |
| 計算         | 粗利益 = 売上 - 原価、などの計算式を定義             |
| 名称         | 言語間の表示を定義                                   |
| 参照         | タグの出典情報を定義                                 |

タクソノミーで科目を一覧化し、リンクベースで科目の分類や構造を定義するというイメージです。

## XBRLの提供形式

XBRLはEDGARやEDINETではzipファイルの形式で配布されています。

例えばAppleの2019年度Form 10-Kを例にすると`.htm`や`.xsd`や`.xml`、`.jpg`などの拡張子のファイルの詰め合わせとなっています。これらの詰め合わせ全体を XBRLデータと言います。この例ではタクソノミーは`.xsd`で`.xml`がそれぞれリンクベースとなっています。

```amazon:4532198283
昨日までの世界(上) 文明の源流と人類の未来
```
