---
title: AmazonのPA-API用URLを手動で作成する方法
description: Amazon PA-API権利停止時の解決法。直近30日売上なしでアクセス権剥奪された場合の手動アフィリエイトリンク作成方法。商品固有IDとアソシエイトIDを使った復活手順を詳説。
slug: amazon-paapi-url-handmade
publishedAt: 2019-05-24
coverImage: /Hero/pexels-sagar-soneji-4560039_o0imwu.jpg
category: Tech
tags: ['プログラミング']
---

## PA-APIのアクセス権が剥奪に

Amazonのアフィリエイトに用いられる「**Product Advertising API**」は、直近30日以内に売上が発生していないとアクセス権が剥奪、つまり権限が停止されて利用が不可能となってしまいます。

この状態になると「**You are submitting requests too quickly.**」と表示され、全てのAPIリクエストが拒否されてしまう状態となります。決して過剰にリクエストしていないのに「**RequestThrottled Error**」が表示されていればこの状態だと判断して良いでしょう。

### APIから生成したリンクは計上の対象外

私もうっかり剥奪されてしまいました。たははー。

実はAPIを有効化してからも、面倒臭がってAPIを一度も利用していなかったことが権限停止の原因でした。

PA-APIが直近30日間の売上によって停止されるということは記載したとおりですが、実はこれは「**PA-APIを利用して生成したリンクを通じて直近30日以内に売上が発生**」しないとダメなんです。

私の場合はPA-APIを利用してリンクを生成していなかったので、成果が0と判定されてしまい、アクセス権が停止となってしまっていました。

### 解決法はAPIリンクを手動で生成すること

PA-APIが無効化されてしまった場合の解決方法をGoogleで検索してみると、PA-API経由のリンクを通じて売上を発生できれば良いと書かれたブログ記事が出てきます。キャッシュでリンクが残っていたのでなんとかかんとか……、これらはなんの解決にもなりませんでした。

こちとらPA-APIを使わないうちから停止になってんだ、そのPA-API経由のリンクなんて1つたりとも持っちゃぁいないんだよ・・・。

ではどうすればいいのでしょうか、PA-APIを利用した際に生成される**リンクを手動で作ればいい**のです。私はこれで晴れてPA-API経由の成果が計上されてアクセス権が復活となりました。

#### 手動でURLを作成する方法

`https://www.amazon.co.jp/gp/product/XXXXXXXXXX/?tag=AAAAAAAAAA`

- XXXXXXXXXX：商品ごとの固有ID
- AAAAAAAAAA：自身のアソシエイトID

固有IDはAmazonで商品ページを普通に開くと入手可能です。商品ページは「`https://www.amazon.co.jp/商品名/dp/XXXXXXXXXX/ref=〜〜〜〜`」といったURLで開かれますが、ここでXXXXXXXXXXとなっている部分を転記するだけです。

書籍の場合はISBN-10、それ以外の場合はASINが設定されていることが多いようですね。

これでAmazonアソシエイトのリンクタイプレポートにて「PA-API」が計上されるようになっていれば正常に機能していることがわかります。

売上が計上されてから1ヶ月ほど経った際に確認してみると、PA-APIが有効となっていました。人によって翌日から有効化されたなどブレがあるようなので、リンクタイプレポートを見ながら気長に待ってみましょう。
